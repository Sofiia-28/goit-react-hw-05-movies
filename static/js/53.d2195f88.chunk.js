"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[53],{687:function(e,r,n){n.d(r,{Bt:function(){return h},FE:function(){return d},Y5:function(){return l},vw:function(){return u},y:function(){return p}});var t=n(861),a=n(757),c=n.n(a),s=n(340);s.Z.defaults.baseURL="https://api.themoviedb.org/3";var i="e1fe80951c2b97a426dc0cdfe1eff4f3",o="language=en-US",u=function(){var e=(0,t.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/trending/movie/day?api_key=".concat(i));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(c().mark((function e(r,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/search/movie?query=".concat(r,"&").concat(o,"&page=").concat(n,"&api_key=").concat(i));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(r,"?").concat(o,"&api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(r,"/credits?").concat(o,"&api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,t.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(r,"/reviews?").concat(o,"&page=1&api_key=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},53:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(861),a=n(439),c=n(757),s=n.n(c),i=n(689),o=n(87),u=n(791),d=n(687),l=n(184),p=function(){return(0,l.jsxs)("svg",{className:"card-arrow",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 32 32",children:[(0,l.jsx)("title",{children:"arrow-left"}),(0,l.jsx)("path",{d:"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z"})]})},h=function(e){var r,n,t=e.movie,a=(0,i.TH)(),c=(0,u.useRef)(a),s=t.genres,d=t.overview,h=t.poster_path,f=t.release_date,v=t.title,x=t.vote_average;return(0,l.jsxs)("div",{className:"card-wrapper",children:[(0,l.jsxs)(o.rU,{className:"card-back-arrow",to:null!==(r=null===(n=c.current.state)||void 0===n?void 0:n.from)&&void 0!==r?r:"/",children:[(0,l.jsx)(p,{}),"Go back"]}),(0,l.jsx)("div",{className:"card-details-wrapper",children:(null===t||void 0===t?void 0:t.release_date)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:null!==t&&void 0!==t&&t.poster_path?"".concat("https://image.tmdb.org/t/p/","w300").concat(h):"https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png",alt:"".concat(v," movie poster")}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{children:[v," ",(0,l.jsxs)("span",{children:["(",f.split("-")[0],")"]})]}),(0,l.jsxs)("p",{children:["User score: ",(10*x).toFixed(1),"%"]}),(0,l.jsx)("h2",{children:"Overview"}),(0,l.jsx)("p",{children:d}),(0,l.jsx)("h3",{children:"Genres"}),!!s&&0===s.length&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("p",{children:"Unfortunately, there is no information about genres"})}),!!s&&s.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("ul",{className:"card-genres-list",children:s.map((function(e){return(0,l.jsx)("li",{children:e.name},e.id)}))})})]})]})})]})},f=n(767),v=n(686),x=n.n(v);function m(){var e=(0,i.UO)(),r=(0,u.useState)({}),n=(0,a.Z)(r,2),c=n[0],p=n[1],v=(0,u.useState)(!1),m=(0,a.Z)(v,2),w=m[0],g=m[1];return(0,u.useEffect)((function(){function r(){return(r=(0,t.Z)(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,g(!0),r.next=4,(0,d.Y5)(e.movieId);case 4:n=r.sent,p(n),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),x().Notify.failure("Oops, something went wrong, try reloading the page");case 11:return r.prev=11,g(!1),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[e.movieId]),(0,l.jsxs)("div",{children:[w&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f.a,{})}),(0,l.jsx)(h,{movie:c}),(0,l.jsxs)("div",{className:"card-add-info",children:[(0,l.jsx)("h4",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,l.jsx)(i.j3,{})]})}}}]);
//# sourceMappingURL=53.d2195f88.chunk.js.map