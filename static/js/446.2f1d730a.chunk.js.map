{"version":3,"file":"static/js/446.2f1d730a.chunk.js","mappings":"8SAEAA,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCACVC,EAAO,iBAEAC,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACFX,EAAAA,EAAAA,IAAU,+BAADY,OAAgCX,IAAW,KAAD,EAA5D,OAARO,EAAQC,EAAAI,KAAAJ,EAAAK,OAAA,SACPN,EAASO,MAAI,wBAAAN,EAAAO,OAAA,GAAAT,EAAA,KACrB,kBAHuB,OAAAH,EAAAa,MAAA,KAAAC,UAAA,KAKXC,EAAmB,eAAAC,GAAAf,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAe,EAAOC,EAAOC,GAAI,IAAAf,EAAA,OAAAF,IAAAA,MAAA,SAAAkB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EAC5BX,EAAAA,EAAAA,IAAU,uBAADY,OACPU,EAAK,KAAAV,OAAIV,EAAI,UAAAU,OAASW,EAAI,aAAAX,OAAYX,IAC7D,KAAD,EAFa,OAARO,EAAQgB,EAAAX,KAAAW,EAAAV,OAAA,SAGPN,EAASO,MAAI,wBAAAS,EAAAR,OAAA,GAAAK,EAAA,KACrB,gBAL+BI,EAAAC,GAAA,OAAAN,EAAAH,MAAA,KAAAC,UAAA,KAOnBS,EAAiB,eAAAC,GAAAvB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAuB,EAAMC,GAAE,IAAAtB,EAAA,OAAAF,IAAAA,MAAA,SAAAyB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,cAAAoB,EAAApB,KAAA,EAChBX,EAAAA,EAAAA,IAAU,UAADY,OAAWkB,EAAE,KAAAlB,OAAIV,EAAI,aAAAU,OAAYX,IAAW,KAAD,EAA7D,OAARO,EAAQuB,EAAAlB,KAAAkB,EAAAjB,OAAA,SACPN,EAASO,MAAI,wBAAAgB,EAAAf,OAAA,GAAAa,EAAA,KACrB,gBAH6BG,GAAA,OAAAJ,EAAAX,MAAA,KAAAC,UAAA,KAKjBe,EAAS,eAAAC,GAAA7B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA6B,EAAML,GAAE,IAAAtB,EAAA,OAAAF,IAAAA,MAAA,SAAA8B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAzB,KAAA,EACRX,EAAAA,EAAAA,IAAU,UAADY,OACpBkB,EAAE,aAAAlB,OAAYV,EAAI,aAAAU,OAAYX,IACxC,KAAD,EAFa,OAARO,EAAQ4B,EAAAvB,KAAAuB,EAAAtB,OAAA,SAGPN,EAASO,MAAI,wBAAAqB,EAAApB,OAAA,GAAAmB,EAAA,KACrB,gBALqBE,GAAA,OAAAH,EAAAjB,MAAA,KAAAC,UAAA,KAOToB,EAAY,eAAAC,GAAAlC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkC,EAAMV,GAAE,IAAAtB,EAAA,OAAAF,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA9B,KAAA,EACXX,EAAAA,EAAAA,IAAU,UAADY,OACpBkB,EAAE,aAAAlB,OAAYV,EAAI,oBAAAU,OAAmBX,IAC/C,KAAD,EAFa,OAARO,EAAQiC,EAAA5B,KAAA4B,EAAA3B,OAAA,SAGPN,EAASO,MAAI,wBAAA0B,EAAAzB,OAAA,GAAAwB,EAAA,KACrB,gBALwBE,GAAA,OAAAH,EAAAtB,MAAA,KAAAC,UAAA,I,oFC5BZyB,EAAY,SAAHvC,GAA0B,IAApBwC,EAAMxC,EAANwC,OAAQC,EAAIzC,EAAJyC,KAC5BC,GAAWC,EAAAA,EAAAA,MAEjB,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,cAAaC,SACxBN,EAAOO,KAAI,SAAAC,GAAK,OACfJ,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACK,EAAAA,GAAI,CAACC,GAAE,GAAA1C,OAAKiC,GAAIjC,OAAGwC,EAAMtB,IAAMyB,MAAO,CAAEC,KAAMV,GAAWI,SACvDE,EAAMK,SAFFL,EAAMtB,GAIV,KAIb,C,uJChBa4B,EAAY,SAAHtD,GAAsB,IAAhBuD,EAAQvD,EAARuD,SAC1B,OACEC,EAAAA,EAAAA,MAAA,QAAMX,UAAU,aAAYC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,SACEC,UAAU,mBACVY,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,kBAGdhB,EAAAA,EAAAA,KAAA,UACEa,KAAK,SACLZ,UAAU,oBACVgB,QAAS,SAAAC,GACPP,EAASO,EAAIC,OAAOC,uBAAuBC,OAC3CH,EAAII,gBACN,EAAEpB,SACH,aAKP,E,SCvBaqB,EAAS,SAAHnE,GAAsB,IAAhBoE,EAAQpE,EAARoE,SACvB,OACExB,EAAAA,EAAAA,KAAA,UAAQiB,QAASO,EAAUvB,UAAU,SAASY,KAAK,SAAQX,SAAC,aAIhE,E,2BCGe,SAASuB,IAAc,IAADC,EACnCC,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjC/B,EAAMiC,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAAkCJ,EAAAA,EAAAA,WAAS,GAAMK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAwBR,EAAAA,EAAAA,UAAS,GAAES,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAA5B7D,EAAI8D,EAAA,GAAEC,EAAOD,EAAA,GACpBE,GAA8BX,EAAAA,EAAAA,YAAUY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAAjCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAoBf,EAAAA,EAAAA,UAAS,MAAKgB,GAAAd,EAAAA,EAAAA,GAAAa,EAAA,GAA3B7D,EAAE8D,EAAA,GAAEC,EAAKD,EAAA,GAEhBE,GAA4BC,EAAAA,EAAAA,IAAgB,IAAGC,GAAAlB,EAAAA,EAAAA,GAAAgB,EAAA,GAAxCG,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAClB1E,EAA2B,QAAtBoD,EAAGuB,EAAOE,IAAI,gBAAQ,IAAAzB,EAAAA,EAAI,IAErC0B,EAAAA,EAAAA,YAAU,WACe,SAAAC,IAuBtB,OAvBsBA,GAAAhG,EAAAA,EAAAA,GAAAC,IAAAA,MAAvB,SAAAC,IAAA,IAAA+F,EAAAC,EAAAC,EAAA,OAAAlG,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACgB,KAAVW,EAAY,CAAAb,EAAAE,KAAA,SAEO,OAFPF,EAAAC,KAAA,EAEZyE,GAAa,GAAM1E,EAAAE,KAAA,GACoBQ,EAAAA,EAAAA,IACrCG,EACAC,GACA,KAAD,EAAA+E,EAAA7F,EAAAI,KAHO0F,EAAOD,EAAPC,QAASC,EAAWF,EAAXE,YAIM,IAAnBD,EAAQE,QACVC,IAAAA,OAAAA,QAAwB,kCAAD9F,OACaU,EAAK,iBAG3CoE,EAAWnE,EAAOoF,KAAKC,KAAKJ,EAAc,KAC1CzB,GAAU,SAAA8B,GAAS,OAAAC,EAAAA,EAAAA,GAAQD,EAAUjG,OAAO2F,GAAQ,IAAG9F,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAsG,GAAAtG,EAAA,SAEvDiG,IAAAA,OAAAA,QACE,sDACA,QAEkB,OAFlBjG,EAAAC,KAAA,GAEFyE,GAAa,GAAO1E,EAAAuG,OAAA,6BAAAvG,EAAAO,OAAA,GAAAT,EAAA,0BAGzBU,MAAA,KAAAC,UAAA,EAxBc,WACQmF,EAAApF,MAAC,KAADC,UAAA,CAwBvB+F,EACF,GAAG,CAAC3F,EAAOC,EAAMO,IAajB,OACE8B,EAAAA,EAAAA,MAAA,OAAAV,SAAA,EACEF,EAAAA,EAAAA,KAACU,EAAS,CAACC,SAbM,SAAAuD,GACnBhB,EAAU,CAAE5E,MAAO4F,IACnB5B,EAAQ,GACRP,EAAU,IACVc,EAAMsB,KAAKC,MACb,IAUKxE,EAAO6D,OAAS,IACfzD,EAAAA,EAAAA,KAAAqE,EAAAA,SAAA,CAAAnE,UACEF,EAAAA,EAAAA,KAACL,EAAAA,EAAS,CAACC,OAAQA,EAAQC,KAAM,OAGpCqC,IACClC,EAAAA,EAAAA,KAAAqE,EAAAA,SAAA,CAAAnE,UACEF,EAAAA,EAAAA,KAACsE,EAAAA,EAAM,MAGV7B,IACCzC,EAAAA,EAAAA,KAAAqE,EAAAA,SAAA,CAAAnE,UACEF,EAAAA,EAAAA,KAACuB,EAAM,CAACC,SApBO,WACrBc,GAAQ,SAAAuB,GAAS,OAAIA,EAAY,CAAC,GACpC,QAuBF,C","sources":["api.js","components/MovieList.jsx","components/SearchBar.jsx","components/Button.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'e1fe80951c2b97a426dc0cdfe1eff4f3';\nconst LANG = 'language=en-US';\n\nexport const fetchMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchMoviesBySearch = async (query, page) => {\n  const response = await axios.get(\n    `/search/movie?query=${query}&${LANG}&page=${page}&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchMovieDetails = async id => {\n  const response = await axios.get(`/movie/${id}?${LANG}&api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios.get(\n    `/movie/${id}/credits?${LANG}&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchReviews = async id => {\n  const response = await axios.get(\n    `/movie/${id}/reviews?${LANG}&page=1&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n","import { Link, useLocation } from 'react-router-dom';\n\nexport const MovieList = ({ movies, link }) => {\n  const location = useLocation();\n\n  return (\n    <ul className=\"movies-list\">\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`${link}${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","export const SearchBar = ({ onSubmit }) => {\n  return (\n    <form className=\"searchForm\">\n      <input\n        className=\"searchForm-input\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movie\"\n      />\n\n      <button\n        type=\"submit\"\n        className=\"searchForm-button\"\n        onClick={evt => {\n          onSubmit(evt.target.previousElementSibling.value);\n          evt.preventDefault();\n        }}\n      >\n        Search\n      </button>\n    </form>\n  );\n};\n","export const Button = ({ nextPage }) => {\n  return (\n    <button onClick={nextPage} className=\"button\" type=\"button\">\n      Load More\n    </button>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesBySearch } from '../api';\nimport { SearchBar } from '../components/SearchBar';\nimport { MovieList } from '../components/MovieList';\nimport { Button } from '../components/Button';\nimport { Loader } from '../components/Loader';\nimport Notiflix from 'notiflix';\n\nexport default function MoviesPage() {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [showBtn, setShowBtn] = useState();\n  const [id, setId] = useState(null);\n\n  const [params, setParams] = useSearchParams('');\n  const query = params.get('query') ?? '';\n\n  useEffect(() => {\n    async function getMovie() {\n      if (query !== '') {\n        try {\n          setIsLoading(true);\n          const { results, total_pages } = await fetchMoviesBySearch(\n            query,\n            page\n          );\n          if (results.length === 0) {\n            Notiflix.Notify.failure(\n              `Oops, no movie with the title \"${query}\" was found.`\n            );\n          }\n          setShowBtn(page < Math.ceil(total_pages / 20));\n          setMovies(prevState => [...prevState.concat(results)]);\n        } catch (error) {\n          Notiflix.Notify.failure(\n            'Oops, something went wrong, try reloading the page'\n          );\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    }\n    getMovie();\n  }, [query, page, id]);\n\n  const handleSubmit = newQuery => {\n    setParams({ query: newQuery });\n    setPage(1);\n    setMovies([]);\n    setId(Date.now());\n  };\n\n  const handleLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  return (\n    <div>\n      <SearchBar onSubmit={handleSubmit} />\n\n      {movies.length > 0 && (\n        <>\n          <MovieList movies={movies} link={''}/>\n        </>\n      )}\n      {isLoading && (\n        <>\n          <Loader />\n        </>\n      )}\n      {showBtn && (\n        <>\n          <Button nextPage={handleLoadMore} />\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["axios","API_KEY","LANG","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","concat","sent","abrupt","data","stop","apply","arguments","fetchMoviesBySearch","_ref2","_callee2","query","page","_context2","_x","_x2","fetchMovieDetails","_ref3","_callee3","id","_context3","_x3","fetchCast","_ref4","_callee4","_context4","_x4","fetchReviews","_ref5","_callee5","_context5","_x5","MovieList","movies","link","location","useLocation","_jsx","className","children","map","movie","Link","to","state","from","title","SearchBar","onSubmit","_jsxs","type","autoComplete","autoFocus","placeholder","onClick","evt","target","previousElementSibling","value","preventDefault","Button","nextPage","MoviesPage","_params$get","_useState","useState","_useState2","_slicedToArray","setMovies","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","setPage","_useState7","_useState8","showBtn","setShowBtn","_useState9","_useState10","setId","_useSearchParams","useSearchParams","_useSearchParams2","params","setParams","get","useEffect","_getMovie","_yield$fetchMoviesByS","results","total_pages","length","Notiflix","Math","ceil","prevState","_toConsumableArray","t0","finish","getMovie","newQuery","Date","now","_Fragment","Loader"],"sourceRoot":""}